#‚ñì‚ñà‚ñà   ‚ñà‚ñà‚ñì ‚ñÑ‚ñÑ‚ñÑ       ‚ñà‚ñà‚ñà‚ñÑ ‚ñÑ‚ñà‚ñà‚ñà‚ñì ‚ñÑ‚ñÑ‚ñÑ‚ñÑ    ‚ñÑ‚ñÑ‚ñÑ       ‚ñà‚ñà‚ñÄ‚ñà‚ñà‚ñà  
# ‚ñí‚ñà‚ñà  ‚ñà‚ñà‚ñí‚ñí‚ñà‚ñà‚ñà‚ñà‚ñÑ    ‚ñì‚ñà‚ñà‚ñí‚ñÄ‚ñà‚ñÄ ‚ñà‚ñà‚ñí‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÑ ‚ñí‚ñà‚ñà‚ñà‚ñà‚ñÑ    ‚ñì‚ñà‚ñà ‚ñí ‚ñà‚ñà‚ñí
#  ‚ñí‚ñà‚ñà ‚ñà‚ñà‚ñë‚ñí‚ñà‚ñà  ‚ñÄ‚ñà‚ñÑ  ‚ñì‚ñà‚ñà    ‚ñì‚ñà‚ñà‚ñë‚ñí‚ñà‚ñà‚ñí ‚ñÑ‚ñà‚ñà‚ñí‚ñà‚ñà  ‚ñÄ‚ñà‚ñÑ  ‚ñì‚ñà‚ñà ‚ñë‚ñÑ‚ñà ‚ñí
#  ‚ñë ‚ñê‚ñà‚ñà‚ñì‚ñë‚ñë‚ñà‚ñà‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñà‚ñà ‚ñí‚ñà‚ñà    ‚ñí‚ñà‚ñà ‚ñí‚ñà‚ñà‚ñë‚ñà‚ñÄ  ‚ñë‚ñà‚ñà‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñà‚ñà ‚ñí‚ñà‚ñà‚ñÄ‚ñÄ‚ñà‚ñÑ  
#  ‚ñë ‚ñà‚ñà‚ñí‚ñì‚ñë ‚ñì‚ñà   ‚ñì‚ñà‚ñà‚ñí‚ñí‚ñà‚ñà‚ñí   ‚ñë‚ñà‚ñà‚ñí‚ñë‚ñì‚ñà  ‚ñÄ‚ñà‚ñì ‚ñì‚ñà   ‚ñì‚ñà‚ñà‚ñí‚ñë‚ñà‚ñà‚ñì ‚ñí‚ñà‚ñà‚ñí
#   ‚ñà‚ñà‚ñí‚ñí‚ñí  ‚ñí‚ñí   ‚ñì‚ñí‚ñà‚ñë‚ñë ‚ñí‚ñë   ‚ñë  ‚ñë‚ñë‚ñí‚ñì‚ñà‚ñà‚ñà‚ñÄ‚ñí ‚ñí‚ñí   ‚ñì‚ñí‚ñà‚ñë‚ñë ‚ñí‚ñì ‚ñë‚ñí‚ñì‚ñë
# ‚ñì‚ñà‚ñà ‚ñë‚ñí‚ñë   ‚ñí   ‚ñí‚ñí ‚ñë‚ñë  ‚ñë      ‚ñë‚ñí‚ñë‚ñí   ‚ñë   ‚ñí   ‚ñí‚ñí ‚ñë  ‚ñë‚ñí ‚ñë ‚ñí‚ñë
# ‚ñí ‚ñí ‚ñë‚ñë    ‚ñë   ‚ñí   ‚ñë      ‚ñë    ‚ñë    ‚ñë   ‚ñë   ‚ñí     ‚ñë‚ñë   ‚ñë 
# ‚ñë ‚ñë           ‚ñë  ‚ñë       ‚ñë    ‚ñë by nichtgestalt   ‚ñë   ‚ñë     
# ‚ñë ‚ñë                                ‚ñë                    

# fonts
hack: &hack HackNerdFont:pixelsize=16
inconsolata: &inconsolata InconsolataNerdFont:pixelsize=16
iosevka: &iosevka IosevkaNerdFont:pixelsize=16
jetbrains: &jetbrains JetBrainsMonoNerdFont:pixelsize=16
fira: &fira FiraCodeNerdFont:pixelsize=16
sauce: &sauce SauseCodeProNerdFont:pixelsize=16
space: &space SpaceMonoNerdFont:pixelsize=16
shure: &shure ShureTechMonoNerdFont:pixelsize=16
roboto: &roboto RobotoMonoNerdFont:pixelsize=16
cantarell: &cantarell Cantarell:pixelsize=17

# colors
bg: &bg 232627ff   # background
fg: &fg eff0f1ff   # foreground
hl: &hl 614a73ff   # highlight
dim: &dim 7f8c8dff # dim foreground
#ac: &ac 16a085ff   # accent color
ac: &ac 3daee9ff   # accent color
mrg: &mrg 8
bar:
  height: 24
  location: top
  font: *hack
  layer: bottom
  foreground: *fg
  background: *bg

####
  left:
    - label:
        content: 
          string: 
              #text: "üòÄ"
              text: "ÔåÆ "
              margin: 10
              foreground: *ac
              on-click:
                left: sh -c "pkill rofi || rofi -show drun"
                right: sh -c "pkill rofi || powermenu"
                middle: sh -c "musicfinder --music"
                wheel-up: sh -c "picker hex"
                wheel-down: sh -c "picker hsl"
    - river:
        anchors:
          - base: &river_base
              left-margin: 5
              right-margin: 5 
              default: {string: {text: ÔÑå }}
              font: HackNerdFont:pixelsize=11
              foreground: *dim
              conditions:
                id == 1: {string: {text: ÔÑå }}  
                id == 2: {string: {text: ÔÑå }}  
                id == 3: {string: {text: ÔÑå }}  
                id == 4: {string: {text: ÔÑå }}  
                id == 5: {string: {text: ÔÑå }}  
                id == 6: {string: {text: ÔÑå }}  
                id == 7: {string: {text: ÔÑå }}  
                id == 8: {string: {text: ÔÑå }}  
                id == 9: {string: {text: '*' }}  
        content:
          map:
            on-click: 
              left: sh -c "riverctl set-focused-tags $((1 << ({id} - 1)))"
              right: sh -c "riverctl toggle-focused-tags $((1 << ({id} -1)))"
              middle: sh -c "riverctl toggle-view-tags $((1 << ({id} -1)))"
            right-margin: 6
            conditions:
              state == urgent:
                map:
                  <<: *river_base
                  deco: {background: {color: *hl }}
              state == focused:
                map:
                  <<: *river_base
                  #deco: {background: {color: *hl }}
                  conditions:
                    #id == 1: {string: {text: ÔÑë , foreground: *hl}}  
                    id == 1: {string: {text: ÔÑë }}  
                    id == 2: {string: {text: ÔÑë }}  
                    id == 3: {string: {text: ÔÑë }}  
                    id == 4: {string: {text: ÔÑë }}  
                    id == 5: {string: {text: ÔÑë }}  
                    id == 6: {string: {text: ÔÑë }}  
                    id == 7: {string: {text: ÔÑë }}  
                    id == 8: {string: {text: ÔÑë }}  
                    id == 9: {string: {text: '*' }}  
              state == visible && ~occupied:
                map:
                  <<: *river_base
              state == visible && occupied:
                map:
                  <<: *river_base
                  deco: {background: {color: *hl }}
              state == unfocused:
                map:
                  <<: *river_base
              state == invisible && ~occupied: {empty: {}}
              state == invisible && occupied:
                map:
                  <<: *river_base
                  #deco: {underline: {size: 3, color: ea6962ff}}
    #- foreign-toplevel:
        #content:
          #map:
            #conditions:
              #~activated: {empty: {}}
              #activated:
              #string: 
                #text: "{app-id}"
                #margin: 15
    #- script:
    #    path: /home/ghost/.local/bin/yambar-string-wrapper
    #    args: ["alcolor", "--print"]
    #    content:
    #      string:
    #        text: "{stdout}"

  center:    
    - script:
        poll-interval: 1000
        path: /home/ghost/.local/bin/mpbar
        content:
          - string:
              # text: " Û∞éá {prefix} "
              text: " {prefix} "
              foreground: *ac
              on-click:
                left: 
                right:  "playerctl -p mpv position 120-"
                middle: 
                wheel-up: "playerctl -p mpv position 5+" 
                wheel-down: "playerctl -p mpv position 5-" 
          - string:
              text: "{title} {position}"
              foreground: *dim
              on-click:
                left: "playerctl -p mpv play-pause"
                right: "notify-send 'Playing:' '{title} {totallength}'"
                middle: 
                wheel-up: "playerctl -p mpv volume 0.1+"
                wheel-down: "playerctl -p mpv volume 0.1-"
          - string:
              text: " {suffix} "
              foreground: *ac
              on-click:
                left: 
                right: "playerctl -p mpv position 120+"
                middle: 
                wheel-up: "playerctl -p mpv position 5+"
                wheel-down: "playerctl -p mpv position 5-" 
    #- script:
    #    poll-interval: 1000
    #    path: /home/ghost/.local/bin/alcolor
    #    args: ["--yambar"]
    #    content:
    #      string:
    #        text: "{theme}"
####
  right:
    - pipewire:
        content:
          map:
            conditions:
              type == "sink":
                - string: 
                    text: " [" 
                    foreground: *dim
                    margin: 0
                    on-click:
                      wheel-up: sh -c "wpctl set-volume @DEFAULT_AUDIO_SINK@ 1%+"
                      wheel-down:  sh -c "wpctl set-volume @DEFAULT_AUDIO_SINK@ 1%-"
                - string: 
                    text: "Û∞ïæ " 
                    foreground: *ac
                    margin: 0
                    on-click:
                      wheel-up: sh -c "wpctl set-volume @DEFAULT_AUDIO_SINK@ 1%+"
                      wheel-down:  sh -c "wpctl set-volume @DEFAULT_AUDIO_SINK@ 1%-"
                - string: 
                    text: "{cubic_volume}%" 
                    foreground: *dim
                    margin: 0
                    on-click:
                      wheel-up: sh -c "wpctl set-volume @DEFAULT_AUDIO_SINK@ 1%+"
                      wheel-down:  sh -c "wpctl set-volume @DEFAULT_AUDIO_SINK@ 1%-"
                - string: 
                    text: "] " 
                    foreground: *dim
                    margin: 0
                    on-click:
                      wheel-up: sh -c "wpctl set-volume @DEFAULT_AUDIO_SINK@ 1%+"
                      wheel-down:  sh -c "wpctl set-volume @DEFAULT_AUDIO_SINK@ 1%-"
    - cpu:
        poll-interval: 5000
        content:
          map:
            conditions:
              id < 0:
                - string: 
                    text: " [" 
                    foreground: *dim
                    margin: 0
                - string: 
                    text: "Ôíº " 
                    foreground: *ac
                    margin: 0
                - string: 
                    text: "{cpu}%" 
                    foreground: *dim
                    margin: 0
                - string: 
                    text: "] " 
                    foreground: *dim
                    margin: 0
    - script:
        poll-interval: 15000
        path: /home/ghost/.local/bin/tempbar
        args: []
        content:
          - string:
              text: " ["
              foreground: *dim
          - string: 
              text: "Ôãâ " 
              foreground: *ac
              margin: 0
          - string:
              text: "{temp}"
              foreground: *dim
          - string:
              text: "] "
              foreground: *dim
    - mem:
        poll-interval: 2500
        content:
          - string: 
              text: " [" 
              foreground: *dim
              margin: 0
          - string: 
              text: "Óâ¶ " 
              foreground: *ac
              margin: 0
          - string: 
              text: "{percent_used}%"
              foreground: *dim
              margin: 0
          - string: 
              text: "] "
              foreground: *dim
              margin: 0
    - clock:
        date-format: "%e.%b"
        time-format: "%H:%M"
        content:
          - string: 
              text: "{date} {time} " 
              foreground: *dim
              margin: 0
              font: *hack
              deco:
                underline:
                  size: 0
                  color: *ac
              on-click:
                left: 
                right: 
                middle: 
                wheel-up:
                wheel-down:
    #- battery:
        #name: BAT0
        #poll-interval: 180000
        #content:
          #- string: {text: "[Û∞Åπ {capacity}%]", foreground: 1cdc9aff, margin: 5}
    #- backlight:
        #name: intel_backlight
        #content: 
          #- string: {text: "[Û∞åµ {percent}%]", foreground: fdbc4bff, margin: 5}
